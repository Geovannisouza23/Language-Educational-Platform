# ===========================================
# LANGUAGE LEARNING PLATFORM - ENVIRONMENT CONFIGURATION
# ===========================================

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=postgres
DATABASE_PASSWORD=your-secure-password-here-change-in-production

# Service-specific databases
AUTH_DB_NAME=auth_db
USERS_DB_NAME=users_db
COURSES_DB_NAME=courses_db
TASKS_DB_NAME=tasks_db
PROGRESS_DB_NAME=progress_db
NOTIFICATIONS_DB_NAME=notifications_db
FILES_DB_NAME=files_db
VIDEOS_DB_NAME=videos_db

# ===========================================
# REDIS CONFIGURATION
# ===========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_CACHE_TTL=300

# ===========================================
# JWT CONFIGURATION
# ===========================================
JWT_SECRET=generate-a-secure-secret-key-use-openssl-rand-hex-64
JWT_EXPIRATION=3600
JWT_REFRESH_EXPIRATION=604800
JWT_ISSUER=language-platform
JWT_AUDIENCE=language-platform-users

# ===========================================
# EMAIL CONFIGURATION (SendGrid)
# ===========================================
SENDGRID_API_KEY=SG.your-sendgrid-api-key-here
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME=Language Learning Platform
SENDGRID_REPLY_TO=support@yourdomain.com

# Email Templates
SENDGRID_TEMPLATE_WELCOME=d-welcome-template-id
SENDGRID_TEMPLATE_VERIFICATION=d-verification-template-id
SENDGRID_TEMPLATE_PASSWORD_RESET=d-password-reset-template-id
SENDGRID_TEMPLATE_ENROLLMENT=d-enrollment-template-id
SENDGRID_TEMPLATE_ASSIGNMENT_DUE=d-assignment-due-template-id
SENDGRID_TEMPLATE_GRADE_NOTIFICATION=d-grade-notification-template-id

# ===========================================
# FILE STORAGE (MinIO/S3)
# ===========================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin-change-in-production
MINIO_BUCKET=uploads
MINIO_REGION=us-east-1
MINIO_USE_SSL=false

# AWS S3 (for production)
AWS_S3_BUCKET=language-platform-uploads
AWS_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_ENDPOINT=https://s3.amazonaws.com

# CDN Configuration
CDN_URL=https://cdn.yourdomain.com
CDN_ENABLED=false

# File Upload Limits (in bytes)
MAX_FILE_SIZE=524288000
MAX_IMAGE_SIZE=10485760
MAX_VIDEO_SIZE=524288000
MAX_DOCUMENT_SIZE=52428800

# ===========================================
# VIDEO CONFERENCING
# ===========================================

# Zoom Configuration
ZOOM_API_KEY=your-zoom-api-key
ZOOM_API_SECRET=your-zoom-api-secret
ZOOM_WEBHOOK_SECRET=your-zoom-webhook-secret
ZOOM_USER_EMAIL=your-zoom-user-email

# Agora Configuration
AGORA_APP_ID=your-agora-app-id
AGORA_APP_CERTIFICATE=your-agora-app-certificate
AGORA_CUSTOMER_ID=your-agora-customer-id
AGORA_CUSTOMER_SECRET=your-agora-customer-secret

# Jitsi Configuration (Self-hosted or meet.jit.si)
JITSI_DOMAIN=meet.jit.si
JITSI_APP_ID=your-jitsi-app-id
JITSI_APP_SECRET=your-jitsi-app-secret
JITSI_ENABLE_RECORDING=false

# Default Video Provider (zoom|agora|jitsi)
VIDEO_PROVIDER=zoom

# ===========================================
# PUSH NOTIFICATIONS (Firebase)
# ===========================================
FCM_SERVER_KEY=your-firebase-server-key
FCM_PROJECT_ID=your-firebase-project-id
FCM_PRIVATE_KEY_PATH=/path/to/firebase-adminsdk.json

# ===========================================
# APPLICATION CONFIGURATION
# ===========================================
NODE_ENV=production
APP_ENV=production
APP_NAME=Language Learning Platform
APP_URL=https://yourdomain.com
API_URL=https://api.yourdomain.com
FRONTEND_URL=https://yourdomain.com

# Service Ports
AUTH_SERVICE_PORT=5001
USER_SERVICE_PORT=8001
COURSE_SERVICE_PORT=8002
TASK_SERVICE_PORT=8003
PROGRESS_SERVICE_PORT=8004
NOTIFICATION_SERVICE_PORT=8005
FILE_SERVICE_PORT=8006
VIDEO_SERVICE_PORT=8007

# ===========================================
# DOMAIN CONFIGURATION
# ===========================================
PRIMARY_DOMAIN=yourdomain.com
API_DOMAIN=api.yourdomain.com
CDN_DOMAIN=cdn.yourdomain.com
ADMIN_DOMAIN=admin.yourdomain.com

# ===========================================
# SSL/TLS CONFIGURATION
# ===========================================
SSL_ENABLED=true
SSL_CERT_PATH=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/yourdomain.com/privkey.pem
SSL_REDIRECT_HTTP=true

# Let's Encrypt
LETSENCRYPT_EMAIL=admin@yourdomain.com
LETSENCRYPT_STAGING=false

# ===========================================
# MONITORING & LOGGING
# ===========================================
LOG_LEVEL=info
LOG_FORMAT=json

# Sentry (Error Tracking)
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_ADMIN_PASSWORD=change-in-production
GRAFANA_PORT=3000

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_GENERAL=100
RATE_LIMIT_AUTH=10
RATE_LIMIT_UPLOAD=5
RATE_LIMIT_WINDOW=60

# ===========================================
# CORS CONFIGURATION
# ===========================================
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://admin.yourdomain.com
CORS_ALLOW_CREDENTIALS=true

# ===========================================
# PAYMENT GATEWAY (Future)
# ===========================================
STRIPE_PUBLIC_KEY=pk_live_your-stripe-public-key
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# ===========================================
# ANALYTICS (Future)
# ===========================================
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
MIXPANEL_TOKEN=your-mixpanel-token

# ===========================================
# BACKUP CONFIGURATION
# ===========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=language-platform-backups

# ===========================================
# FEATURE FLAGS
# ===========================================
FEATURE_VIDEO_CONFERENCING=true
FEATURE_PUSH_NOTIFICATIONS=true
FEATURE_FILE_UPLOADS=true
FEATURE_ACHIEVEMENTS=true
FEATURE_SOCIAL_SHARING=false
FEATURE_PAYMENT=false

# ===========================================
# SECURITY
# ===========================================
BCRYPT_ROUNDS=12
SESSION_TIMEOUT=1800
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900

# API Keys Encryption
ENCRYPTION_KEY=generate-32-byte-encryption-key-here

# ===========================================
# THIRD-PARTY INTEGRATIONS
# ===========================================

# Cloudflare (CDN/DDoS Protection)
CLOUDFLARE_API_KEY=your-cloudflare-api-key
CLOUDFLARE_ZONE_ID=your-cloudflare-zone-id

# Mailgun (Alternative to SendGrid)
MAILGUN_API_KEY=your-mailgun-api-key
MAILGUN_DOMAIN=mg.yourdomain.com

# Twilio (SMS Notifications)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ===========================================
# KUBERNETES SECRETS (For K8s deployment)
# ===========================================
# These will be created as K8s secrets
# See infra/kubernetes/secrets/secrets.yaml.example
